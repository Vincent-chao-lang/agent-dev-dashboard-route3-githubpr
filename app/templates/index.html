{% extends "base.html" %}
{% block content %}
  <h1>{{ t("projects_title") }}</h1>

  <div class="card">
    <h3>{{ t("create_project") }}</h3>
    <form method="post" action="/projects">
      <div class="grid">
        <div>
          <label>{{ t("project_name") }}</label>
          <input name="name" placeholder="my-backend-service" required />
        </div>
        <div>
          <label>{{ t("default_branch") }}</label>
          <input name="default_branch" value="main" required />
        </div>
      </div>
      <label>{{ t("repo_url") }}</label>
      <input name="repo_url" placeholder="git@github.com:org/repo.git" required />
      <div style="margin-top:12px;">
        <button type="submit">{{ t("create_clone") }}</button>
      </div>
    </form>
  </div>

  {% for p in projects %}
    <div class="card">
      <h3><a href="/projects/{{p.id}}">{{ p.name }}</a></h3>
      <div class="muted">{{ p.repo_url }} Â· {{ t("default_branch") }}={{ p.default_branch }}</div>
    </div>
  {% else %}
    <div class="card muted">{{ t("no_projects") }}</div>
  {% endfor %}
{% endblock %}
